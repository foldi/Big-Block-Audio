<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name = "viewport" content = "user-scalable=no, width=device-width, initial-scale = 1.0">
        <title>Big Block Audio</title>

		<script src="js/bigblockaudio.js"></script>
		
		<script type="text/javascript">
			
			var i, path, body, loading, button, filename, complete_msg, error_msg;
			
			path = "http://www.foldifoldi.com/audio/";
			BigBlockAudio.debug = true;
						
			BigBlockAudio.ready = function () {
				
				if (BigBlockAudio.supported) {
					BigBlockAudio.files_to_play = ["bing", "blip", "bonk", "boom", "coin", "eeoo", "jump"];
					for (i = 0; i < BigBlockAudio.files_to_play.length; i++) {
						filename = BigBlockAudio.files_to_play[i];
						BigBlockAudio.add(filename, path, false, function (e) {
							BigBlockAudio.create_button(e.srcElement.id);
						});
					}
				} else {
					loading = document.getElementById("loading");
					body = document.getElementsByTagName("body");
					if (loading) {
						body[0].removeChild(loading);
					}
					error_msg = document.createTextNode("This browser does not supported HTML5 audio.");
					body[0].appendChild(error_msg);				
				}
			}
			
			BigBlockAudio.create_button = function (filename) {
				loading = document.getElementById("loading");
				body = document.getElementsByTagName("body");
				if (loading) {
					body[0].removeChild(loading);
				}
				button = document.createElement("input");
				button.setAttribute("type", "submit");
				button.setAttribute("value", filename);
				if (button.addEventListener) {
					button.addEventListener("mouseup", function () {
						BigBlockAudio.play(filename);
					}, false); 
				} else if (button.attachEvent) {
					button.attachEvent("onmouseup", function () {
						BigBlockAudio.play(filename);
					});
				}
				body[0].appendChild(button);
				setTimeout(function () {
					if (BigBlockAudio.loading_complete === true) {
						complete_msg = document.createTextNode("loading complete!");
						body[0].appendChild(complete_msg);
					}
				}, 0);
			};
		
		</script>
	</head>
	<body onload="setTimeout('BigBlockAudio.ready()', 0)">
		<div id="loading">loading audio...</div>
		<noscript>You must enable JavaScript to view this demo.</noscript>
	</body>
</html>